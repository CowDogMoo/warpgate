---
metadata:
  name: buildkit-poc
  version: 0.1.0
  description: Simple POC template for BuildKit integration testing
  author: Warpgate Team
  license: MIT
  tags:
    - poc
    - buildkit
    - test
  requires:
    warpgate: ">=0.1.0"

name: buildkit-poc
version: 0.1.0

base:
  image: ubuntu:22.04
  platform: linux/amd64

provisioners:
  - type: shell
    inline:
      - apt-get update
      - apt-get install -y curl
      - echo "Hello from Warpgate BuildKit POC"

post_changes:
  - "ENV TEST_VAR=poc"
  - "WORKDIR /app"

targets:
  - type: container
    platforms:
      - linux/amd64
    registry: local
    tags:
      - buildkit-poc:latest
      - buildkit-poc:test
